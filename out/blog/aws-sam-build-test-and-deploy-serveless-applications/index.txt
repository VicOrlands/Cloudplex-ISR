3:I[4707,[],""]
5:I[36423,[],""]
6:I[83575,["1779","static/chunks/0e762574-e2250de400a4ed4b.js","5452","static/chunks/5e22fd23-548660fd7966a330.js","5878","static/chunks/5878-5874fb2c0dc2a1fa.js","2972","static/chunks/2972-ec2c5667a187e8c4.js","6434","static/chunks/6434-f1ba83ef6f4d8ff1.js","3464","static/chunks/3464-108d3965859ff6f4.js","7261","static/chunks/7261-55c1cedd72bd6eaa.js","8003","static/chunks/8003-22382164f812e9a5.js","3185","static/chunks/app/layout-07248a66e26d07dc.js"],"default"]
7:I[72972,["5878","static/chunks/5878-5874fb2c0dc2a1fa.js","2972","static/chunks/2972-ec2c5667a187e8c4.js","6434","static/chunks/6434-f1ba83ef6f4d8ff1.js","5915","static/chunks/5915-0201d1e543d87633.js","3486","static/chunks/3486-31c46a73f5eb8de6.js","273","static/chunks/273-4de1aefaf8cd17ce.js","308","static/chunks/app/blog/%5Bslug%5D/page-e7b2d01086a187e4.js"],""]
8:"$Sreact.suspense"
9:I[81523,["6051","static/chunks/795d4814-476d6416c8e2052d.js","1779","static/chunks/0e762574-e2250de400a4ed4b.js","5878","static/chunks/5878-5874fb2c0dc2a1fa.js","2972","static/chunks/2972-ec2c5667a187e8c4.js","3705","static/chunks/3705-b8fe6f5208fe399e.js","3978","static/chunks/3978-b267f049d115c2b8.js","1110","static/chunks/1110-de266bf53394e4db.js","1055","static/chunks/1055-c276cbff28cfad9a.js","4606","static/chunks/4606-20a0c42850a47167.js","2403","static/chunks/2403-4383a29793ac9144.js","3839","static/chunks/3839-050ccec6cac83fe9.js","1931","static/chunks/app/page-c8486484b9037db3.js"],"BailoutToCSR"]
a:I[7237,["1779","static/chunks/0e762574-e2250de400a4ed4b.js","5452","static/chunks/5e22fd23-548660fd7966a330.js","5878","static/chunks/5878-5874fb2c0dc2a1fa.js","2972","static/chunks/2972-ec2c5667a187e8c4.js","6434","static/chunks/6434-f1ba83ef6f4d8ff1.js","3464","static/chunks/3464-108d3965859ff6f4.js","7261","static/chunks/7261-55c1cedd72bd6eaa.js","8003","static/chunks/8003-22382164f812e9a5.js","3185","static/chunks/app/layout-07248a66e26d07dc.js"],"default"]
b:I[22207,["1779","static/chunks/0e762574-e2250de400a4ed4b.js","5452","static/chunks/5e22fd23-548660fd7966a330.js","5878","static/chunks/5878-5874fb2c0dc2a1fa.js","2972","static/chunks/2972-ec2c5667a187e8c4.js","6434","static/chunks/6434-f1ba83ef6f4d8ff1.js","3464","static/chunks/3464-108d3965859ff6f4.js","7261","static/chunks/7261-55c1cedd72bd6eaa.js","8003","static/chunks/8003-22382164f812e9a5.js","3185","static/chunks/app/layout-07248a66e26d07dc.js"],"default"]
c:I[75549,["1779","static/chunks/0e762574-e2250de400a4ed4b.js","5452","static/chunks/5e22fd23-548660fd7966a330.js","5878","static/chunks/5878-5874fb2c0dc2a1fa.js","2972","static/chunks/2972-ec2c5667a187e8c4.js","6434","static/chunks/6434-f1ba83ef6f4d8ff1.js","3464","static/chunks/3464-108d3965859ff6f4.js","7261","static/chunks/7261-55c1cedd72bd6eaa.js","8003","static/chunks/8003-22382164f812e9a5.js","3185","static/chunks/app/layout-07248a66e26d07dc.js"],"default"]
4:["slug","aws-sam-build-test-and-deploy-serveless-applications","d"]
0:["uEu_oHx93E1n1djLkNdZ9",[[["",{"children":["blog",{"children":[["slug","aws-sam-build-test-and-deploy-serveless-applications","d"],{"children":["__PAGE__?{\"slug\":\"aws-sam-build-test-and-deploy-serveless-applications\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","aws-sam-build-test-and-deploy-serveless-applications","d"],{"children":["__PAGE__",{},[["$L1","$L2",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/31e337c2aa3be57f.css","precedence":"next","crossOrigin":"$undefined"}]]],null],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/01329c7d2530a3fe.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/a2429df6874052f9.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"en","className":"__variable_d65c78","children":["$","body",null,{"children":[["$","$L6",null,{}],["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"style":{"display":"flex","flexDirection":"column","justifyContent":"center","alignItems":"center","height":"100vh","textAlign":"center","fontFamily":"Arial, sans-serif","backgroundColor":"#f9f9f9","color":"#333","padding":"0 20px"},"children":[["$","div",null,{"style":{"marginBottom":"20px","color":"#555"},"children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","width":"150","height":"150","fill":"none","stroke":"currentColor","strokeWidth":"2","strokeLinecap":"round","strokeLinejoin":"round","children":[["$","circle",null,{"cx":"12","cy":"12","r":"10"}],["$","line",null,{"x1":"15","y1":"9","x2":"9","y2":"15"}],["$","line",null,{"x1":"9","y1":"9","x2":"15","y2":"15"}]]}]}],["$","h1",null,{"style":{"fontSize":"3rem","marginBottom":"10px"},"children":"404 - Page Not Found"}],["$","p",null,{"style":{"fontSize":"1.6rem","marginBottom":"20px"},"children":"Oops! The page you are looking for does not exist."}],["$","$L7",null,{"href":"/","style":{"fontSize":"1.4rem","color":"#0070f3","textDecoration":"none"},"children":"Return to Home"}]]}],"notFoundStyles":[]}],["$","$8",null,{"fallback":null,"children":["$","$L9",null,{"reason":"next/dynamic","children":["$","$La",null,{}]}]}],[["$","$Lb",null,{}],["$","$Lc",null,{}]]]}]}]],null],null],["$Ld",null]]]]
e:I[34027,["5878","static/chunks/5878-5874fb2c0dc2a1fa.js","2972","static/chunks/2972-ec2c5667a187e8c4.js","6434","static/chunks/6434-f1ba83ef6f4d8ff1.js","5915","static/chunks/5915-0201d1e543d87633.js","3486","static/chunks/3486-31c46a73f5eb8de6.js","273","static/chunks/273-4de1aefaf8cd17ce.js","308","static/chunks/app/blog/%5Bslug%5D/page-e7b2d01086a187e4.js"],"default"]
10:I[24157,["5878","static/chunks/5878-5874fb2c0dc2a1fa.js","2972","static/chunks/2972-ec2c5667a187e8c4.js","6434","static/chunks/6434-f1ba83ef6f4d8ff1.js","5915","static/chunks/5915-0201d1e543d87633.js","3486","static/chunks/3486-31c46a73f5eb8de6.js","273","static/chunks/273-4de1aefaf8cd17ce.js","308","static/chunks/app/blog/%5Bslug%5D/page-e7b2d01086a187e4.js"],"default"]
f:T1b64,### **What is SAM?**

Serverless Application Model (SAM) is a tool that enable you to build, test and deploy serverless applications.

### **Why SAM?**

With SAM, you can define the resources you need in a YAML or JSON file, and AWS CloudFormation takes care of creating those resources for you. SAM extends AWS CloudFormation to provide a simplified way of defining and utilizing AWS serverless application resources.

### **Setting up your environment**

In other to use sam locally on your computer, you need to have the following installed on your machine.

* Docket \- It simulates the running environment of Lambda in your local machine  
  visit [here](https://www.docker.com/products/docker-desktop) to download  
* AWS CLI \- Allows you to authenticate and communicate with your AWS account.  
  visit [here](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html) to download  
* SAM CLI \- Enable you to create, test and deploy serverless applications.  
  visit [here](https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-cli-install.html) to download  
* Git \- For versioning and tracking.  
  visit [here](https://git-scm.com/downloads) to download

You can follow to the next step after you've completed the installations. Visit [here](https://file+.vscode-resource.vscode-cdn.net/home/rahma-yekeen/Documents/PR/abdul/cloudsandbox/AWS%20SAM%20-%20Build%2C%20Test%20and%20Deploy%20Serveless%20Applications.md) for further instruction.

#### **Configure your AWS CLI**

To authenticate with your AWS account,

* Navigate to yout IAM management console  
* Select your USER  
* in the Security tab, locate Access keys.  
* Generate a new Access Key and Download the CSV Provided.

Run the following command

```
aws configure
```

Provide the requested information. Example

![image1](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/aws-configure.png)

You can continue to the next step if you have successfully completed the previous steps.

### **Create a SAM Project**

Run the following command to create a new sam project

```
sam init
```

Enter 1 for the template

![image2](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/choose-template.png)

Enter 1 to select the Hello World Example

![image3](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/select-template.png)

Enter N to select NO

![image4](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/select-no.png)

Select the package you would like to use, in my case , i will be using python3.8

![image5](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/select-python.png)

select Zip as the required package

![image6](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/select-zip.png)

Ignore the following

![image7](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/ignore-nnnn.png)

Enter project name, a default name is already provided , you can overwrite with yours or click Enter to continue.

![image8](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/completed-sam-init.png)

Once completed, you can open the created folder in your favourite code editor

![image9](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/project-structure.png)

### **The project Structure**

* events folder \- Contain events template that you can use to invoke the function.  
* hello\_world folder \- Contains code for the lambda function.  
* tests folder \- Contain tests for the application code.  
* template.yml \- Template that defines the application resources, functions and others

### **What is in the template?**

#### **Globals**

The Globals contain all configurations for every created function using this template.

In this case, we have a timeout and memory size 128mb max.

![image10](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/globals.png)

#### **Resources**

The resources contain all created functions and function resources

![image11](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/resources.png)

In this Resource, we have a function called HelloWorldFunction.

Let's break down some properties.

* CodeUri \- here you specify folder where you store the code  
* Handler \- Here you specify the entry point to this function  
* Runtime \- The runtime of this function

### **The Code**

in the app.py file, the default code should look something like this.

![image12](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/code.png)

we can see, there is a function called lambda\_handler, which basically just returns a json.

so when we test this function, we expect to see hello world in the output\!

### **Test**

**![image13](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/test-handler.png)**

#### **Run the code**

```
sam local start-api --port 8080
```

![image14](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/sam-run.png)

Open the url in your browser and you see hello world in your browser screen

![image15](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/output-browser.png)

you can update the message, code and no need to restart the server, it automatically update.

#### **Run Tests**

The tests are created with pytest, so you need to install before running the test.

```
pip3 install pytest pytest-mock
python3 -m pytest tests/unit
```

Don't forget to update the test if you have make any changes to the code.

### **Deploy**

In order to deploy our lambda function to AWS, we need to first build it. This normally tweak some things and compresses the project including external dependencies and packages into a zip file.

in other to build your project, Run

```
sam build
```

you can now deploy your function to AWS with

```
sam deploy --guided
```

fill out the question like the example in the picture, press enter to skip

![image16](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/deploy-guide.png)

Once completed, the output will look something like this

![image17](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/deploy-output.png)

You can visit the url provided in the **HelloWorldFunction**

or use **curl**

**![image18](https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/custom-uploads/images/curl.png)**

There you go\! You have successfully build, test and deploy a serveless application using AWS SAM.

You can inspect your build in cloudformation in your aws console.

### **Clean up**

Run

```
sam delete
```

This will delete all resources and functions created on AWS for this project.2:["$","$Le",null,{"blog":{"content":"$f","date":"2023-05-15","published":false,"updated":"12/2/2024","slug":"aws-sam-build-test-and-deploy-serveless-applications","description":"With SAM, you can define the resources you need in a YAML or JSON file, and AWS CloudFormation takes care of creating those resources for you. SAM extends AWS CloudFormation to provide a simplified way of defining and utilizing AWS serverless application resources.","key":"aws-sam-build-test-and-deploy-serveless-applications","thumbnail":"https://cloudplexo-cms-bucket.s3.af-south-1.amazonaws.com/blog/aws-sam-build-test-and-deploy-serveless-applications/1733032931139-aws-sam-thumbnail.png","author":"abdulmumin yaqeen","title":"AWS SAM - Build, Test and Deploy Serveless Applications."},"oldBlog":{"comp":["$","$L10",null,{}],"url":"aws-sam-build-test-and-deploy-serveless-applications"}}]
d:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"AWS SAM - Build, Test and Deploy serveless applications - CloudPlexo Blog"}],["$","meta","3",{"name":"description","content":"With SAM, you can define the resources you need in a YAML or ]SON file, and AWS CloudFormation takes care of creating those resources for you. SAM extends AWS..."}],["$","meta","4",{"name":"keywords","content":"aws-sam-build-test-and-deploy-serveless-applications,Cloud Computing Insights,AWS Blog,Azure Articles,Google Cloud Updates,Cloud Technology Trends"}],["$","link","5",{"rel":"canonical","href":"https://www.cloudplexo.com/blog/aws-sam-build-test-and-deploy-serveless-applications/"}],["$","link","6",{"rel":"icon","href":"/icon.ico?7156ce2ac441bdbe","type":"image/x-icon","sizes":"16x16"}],["$","meta","7",{"name":"next-size-adjust"}]]
1:null
